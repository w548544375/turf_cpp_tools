local skynet = require("skynet")
local sep = require("sephiroth")

local b = sep.NewAppData()
b:PutByte(1)
b:PutShort(0x1409)
b:PutInt(100)
b:PutLong(100)
b:PutFloat(1.0)
b:PutDouble(1.523)
b:PutString("Hello")
print("Buffer Content: \n" .. b:ToString())
b:Seek(0)
print("GetByte" .. b:GetByte())
print("GetShort" .. b:GetShort())
print("GetInt" .. b:GetInt())
print("GetLong" .. b:GetLong())
print("GetFloat" .. b:GetFloat())
print("GetDouble " .. b:GetDouble())
print("GetString" .. b:GetString())
local msg = sep.NewClientMsg(0,b)
local ad = msg:Serialize()
print(ad)
sep.RSAInit("./config/private_key.pem")
local cipher = sep.RSAEncrypt("bigz11")
print("加密后的字符串:" .. sep.toHexString(cipher))
local plain = sep.RSADecrypt(cipher)
print("解密: ".. plain)
sep.Free()
skynet.start(function()

end)
